{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { HeatmapLayer } from '@deck.gl/aggregation-layers';\nimport { Widget } from \"./components\";\nimport { mapDummyData } from \"./mapData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DATA_URL = 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/screen-grid/uber-pickup-locations.json'; // eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\nconst INITIAL_VIEW_STATE = {\n  longitude: -73.75,\n  latitude: 40.73,\n  zoom: 9,\n  maxZoom: 16,\n  pitch: 0,\n  bearing: 0\n};\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\nexport const MapBox = _ref => {\n  _s();\n  let {\n    data = DATA_URL,\n    intensity = 2,\n    threshold = 0.03,\n    radiusPixels = 30,\n    mapStyle = MAP_STYLE,\n    showWidget = false\n  } = _ref;\n  const DEFAULT_LAYER_VALUES = {\n    data: data,\n    id: 'heatmp-layer',\n    pickable: false,\n    debounceTimeout: 5000,\n    getPosition: d => [d[0], d[1]],\n    getWeight: d => d[2]\n  };\n  const initialLayer = new HeatmapLayer({\n    ...DEFAULT_LAYER_VALUES,\n    intensity: 2,\n    threshold: 0.03,\n    radiusPixels: 30\n  });\n  const [layers, setLayers] = useState([initialLayer]);\n  const handleLayers = values => {\n    let temp = DEFAULT_LAYER_VALUES;\n    temp[type] = value;\n    const newLayer = new HeatmapLayer(temp);\n    console.log(layers);\n    setLayers([newLayer]);\n    console.log(layers);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showWidget && /*#__PURE__*/_jsxDEV(Widget, {\n      handleUpdateLayers: handleLayers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(DeckGL, {\n      initialViewState: INITIAL_VIEW_STATE,\n      controller: true,\n      layers: layers,\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        reuseMaps: true,\n        mapboxAccessToken: API_KEY,\n        mapStyle: mapStyle,\n        preventStyleDiffing: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(MapBox, \"7reoU35D6mhhhKpUogWkWVPVXoE=\");\n_c = MapBox;\nvar _c;\n$RefreshReg$(_c, \"MapBox\");","map":{"version":3,"names":["useState","DeckGL","Map","HeatmapLayer","Widget","mapDummyData","jsxDEV","_jsxDEV","Fragment","_Fragment","DATA_URL","API_KEY","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","pitch","bearing","MAP_STYLE","MapBox","_ref","_s","data","intensity","threshold","radiusPixels","mapStyle","showWidget","DEFAULT_LAYER_VALUES","id","pickable","debounceTimeout","getPosition","d","getWeight","initialLayer","layers","setLayers","handleLayers","values","temp","type","value","newLayer","console","log","children","handleUpdateLayers","fileName","_jsxFileName","lineNumber","columnNumber","initialViewState","controller","reuseMaps","mapboxAccessToken","preventStyleDiffing","_c","$RefreshReg$"],"sources":["/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx"],"sourcesContent":["import {useState} from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {HeatmapLayer} from '@deck.gl/aggregation-layers';\nimport {Widget} from \"./components\";\nimport { mapDummyData } from \"./mapData\";\n\nconst DATA_URL =\n    'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/screen-grid/uber-pickup-locations.json';// eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\n\nconst INITIAL_VIEW_STATE = {\n    longitude: -73.75,\n    latitude: 40.73,\n    zoom: 9,\n    maxZoom: 16,\n    pitch: 0,\n    bearing: 0\n};\n\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\n\nexport const MapBox = ({\n                           data= DATA_URL,\n                           intensity = 2,\n                           threshold = 0.03,\n                           radiusPixels = 30,\n                           mapStyle = MAP_STYLE,\n                           showWidget = false,\n                       }) => {\n\n    const DEFAULT_LAYER_VALUES = {\n        data: data,\n        id: 'heatmp-layer',\n        pickable: false,\n        debounceTimeout: 5000,\n        getPosition: d => [d[0], d[1]],\n        getWeight: d => d[2],\n    }\n\n    const initialLayer = new HeatmapLayer({\n        ...DEFAULT_LAYER_VALUES,\n        intensity: 2,\n        threshold: 0.03,\n        radiusPixels: 30,\n    })\n\n    const [layers, setLayers] = useState([initialLayer]);\n\n    const handleLayers = (values) => {\n        let temp = DEFAULT_LAYER_VALUES;\n        temp[type] = value;\n        const newLayer = new HeatmapLayer(temp);\n        console.log(layers);\n        setLayers([newLayer]);\n        console.log(layers);\n    }\n\n    return (\n        <>\n            {showWidget && <Widget handleUpdateLayers={handleLayers}/>}\n            <DeckGL initialViewState={INITIAL_VIEW_STATE} controller={true} layers={layers}>\n                <Map reuseMaps mapboxAccessToken={API_KEY} mapStyle={mapStyle} preventStyleDiffing={true} />\n            </DeckGL>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}