{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { HeatmapLayer } from '@deck.gl/aggregation-layers';\nimport { Widget } from \"./components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DATA_URL = 'https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson'; // eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\nconst INITIAL_VIEW_STATE = {\n  longitude: -73.75,\n  latitude: 40.73,\n  zoom: 9,\n  maxZoom: 16,\n  pitch: 0,\n  bearing: 0\n};\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\nexport const MapBox = _ref => {\n  _s();\n  let {\n    data = DATA_URL,\n    intensity = 2,\n    threshold = 0.03,\n    radiusPixels = 30,\n    mapStyle = MAP_STYLE,\n    showWidget = false\n  } = _ref;\n  const DEFAULT_LAYER_VALUES = {\n    data,\n    id: 'heatmp-layer',\n    pickable: false,\n    debounceTimeout: 5000,\n    getPosition: d => [d[0], d[1]],\n    getWeight: d => d[2],\n    radiusPixels,\n    intensity,\n    threshold\n  };\n  const initialLayer = new HeatmapLayer({\n    ...DEFAULT_LAYER_VALUES\n  });\n  const [layers, setLayers] = useState([initialLayer]);\n  const handleLayers = (value, type) => {\n    DEFAULT_LAYER_VALUES[type] = value;\n    const newLayer = new HeatmapLayer(DEFAULT_LAYER_VALUES);\n    setLayers([newLayer]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showWidget && /*#__PURE__*/_jsxDEV(Widget, {\n      handleUpdateLayers: handleLayers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(DeckGL, {\n      initialViewState: INITIAL_VIEW_STATE,\n      controller: true,\n      layers: layers,\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        reuseMaps: true,\n        mapboxAccessToken: API_KEY,\n        mapStyle: mapStyle,\n        preventStyleDiffing: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(MapBox, \"7reoU35D6mhhhKpUogWkWVPVXoE=\");\n_c = MapBox;\nvar _c;\n$RefreshReg$(_c, \"MapBox\");","map":{"version":3,"names":["useState","DeckGL","Map","HeatmapLayer","Widget","jsxDEV","_jsxDEV","Fragment","_Fragment","DATA_URL","API_KEY","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","pitch","bearing","MAP_STYLE","MapBox","_ref","_s","data","intensity","threshold","radiusPixels","mapStyle","showWidget","DEFAULT_LAYER_VALUES","id","pickable","debounceTimeout","getPosition","d","getWeight","initialLayer","layers","setLayers","handleLayers","value","type","newLayer","children","handleUpdateLayers","fileName","_jsxFileName","lineNumber","columnNumber","initialViewState","controller","reuseMaps","mapboxAccessToken","preventStyleDiffing","_c","$RefreshReg$"],"sources":["/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx"],"sourcesContent":["import {useState} from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {HeatmapLayer} from '@deck.gl/aggregation-layers';\nimport {Widget} from \"./components\";\n\nconst DATA_URL =\n    'https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson'; // eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\n\nconst INITIAL_VIEW_STATE = {\n    longitude: -73.75,\n    latitude: 40.73,\n    zoom: 9,\n    maxZoom: 16,\n    pitch: 0,\n    bearing: 0\n};\n\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\n\nexport const MapBox = ({\n                           data = DATA_URL,\n                           intensity = 2,\n                           threshold = 0.03,\n                           radiusPixels = 30,\n                           mapStyle = MAP_STYLE,\n                           showWidget = false,\n                       }) => {\n    const DEFAULT_LAYER_VALUES = {\n        data,\n        id: 'heatmp-layer',\n        pickable: false,\n        debounceTimeout: 5000,\n        getPosition: d => [d[0], d[1]],\n        getWeight: d => d[2],\n        radiusPixels,\n        intensity,\n        threshold,\n    }\n\n    const initialLayer = new HeatmapLayer({\n        ...DEFAULT_LAYER_VALUES,\n    })\n\n    const [layers, setLayers] = useState([initialLayer]);\n\n    const handleLayers = (value, type) => {\n        DEFAULT_LAYER_VALUES[type] = value;\n        const newLayer = new HeatmapLayer(DEFAULT_LAYER_VALUES);\n        setLayers([newLayer]);\n    }\n\n    return (\n        <>\n            {showWidget && <Widget handleUpdateLayers={handleLayers}/>}\n            <DeckGL initialViewState={INITIAL_VIEW_STATE} controller={true} layers={layers}>\n                <Map reuseMaps mapboxAccessToken={API_KEY} mapStyle={mapStyle} preventStyleDiffing={true} />\n            </DeckGL>\n        </>\n    )\n}"],"mappings":";;AAAA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,GAAG,QAAQ,cAAc;AAClC,OAAO,8BAA8B;AACrC,SAAQC,YAAY,QAAO,6BAA6B;AACxD,SAAQC,MAAM,QAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,QAAQ,GACV,qFAAqF,CAAC,CAAC;;AAE3F,MAAMC,OAAO,GAAG,4FAA4F;AAE5G,MAAMC,kBAAkB,GAAG;EACvBC,SAAS,EAAE,CAAC,KAAK;EACjBC,QAAQ,EAAE,KAAK;EACfC,IAAI,EAAE,CAAC;EACPC,OAAO,EAAE,EAAE;EACXC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE;AACb,CAAC;AAED,MAAMC,SAAS,GAAG,2EAA2E;AAE7F,OAAO,MAAMC,MAAM,GAAGC,IAAA,IAOO;EAAAC,EAAA;EAAA,IAPN;IACIC,IAAI,GAAGb,QAAQ;IACfc,SAAS,GAAG,CAAC;IACbC,SAAS,GAAG,IAAI;IAChBC,YAAY,GAAG,EAAE;IACjBC,QAAQ,GAAGR,SAAS;IACpBS,UAAU,GAAG;EACjB,CAAC,GAAAP,IAAA;EACpB,MAAMQ,oBAAoB,GAAG;IACzBN,IAAI;IACJO,EAAE,EAAE,cAAc;IAClBC,QAAQ,EAAE,KAAK;IACfC,eAAe,EAAE,IAAI;IACrBC,WAAW,EAAEC,CAAC,IAAI,CAACA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9BC,SAAS,EAAED,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC;IACpBR,YAAY;IACZF,SAAS;IACTC;EACJ,CAAC;EAED,MAAMW,YAAY,GAAG,IAAIhC,YAAY,CAAC;IAClC,GAAGyB;EACP,CAAC,CAAC;EAEF,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGrC,QAAQ,CAAC,CAACmC,YAAY,CAAC,CAAC;EAEpD,MAAMG,YAAY,GAAGA,CAACC,KAAK,EAAEC,IAAI,KAAK;IAClCZ,oBAAoB,CAACY,IAAI,CAAC,GAAGD,KAAK;IAClC,MAAME,QAAQ,GAAG,IAAItC,YAAY,CAACyB,oBAAoB,CAAC;IACvDS,SAAS,CAAC,CAACI,QAAQ,CAAC,CAAC;EACzB,CAAC;EAED,oBACInC,OAAA,CAAAE,SAAA;IAAAkC,QAAA,GACKf,UAAU,iBAAIrB,OAAA,CAACF,MAAM;MAACuC,kBAAkB,EAAEL;IAAa;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAE,eAC1DzC,OAAA,CAACL,MAAM;MAAC+C,gBAAgB,EAAErC,kBAAmB;MAACsC,UAAU,EAAE,IAAK;MAACb,MAAM,EAAEA,MAAO;MAAAM,QAAA,eAC3EpC,OAAA,CAACJ,GAAG;QAACgD,SAAS;QAACC,iBAAiB,EAAEzC,OAAQ;QAACgB,QAAQ,EAAEA,QAAS;QAAC0B,mBAAmB,EAAE;MAAK;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAG;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACvF;EAAA,gBACV;AAEX,CAAC;AAAA1B,EAAA,CAxCYF,MAAM;AAAAkC,EAAA,GAANlC,MAAM;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}