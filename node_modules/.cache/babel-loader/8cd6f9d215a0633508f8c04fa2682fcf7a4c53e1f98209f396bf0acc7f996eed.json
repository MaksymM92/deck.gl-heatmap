{"ast":null,"code":"var _jsxFileName = \"/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx\",\n  _s = $RefreshSig$();\nimport DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { HeatmapLayer } from '@deck.gl/aggregation-layers';\nimport { useState } from \"react\";\nimport { Widget } from \"./components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DATA_URL = 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/screen-grid/uber-pickup-locations.json'; // eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\nconst INITIAL_VIEW_STATE = {\n  longitude: -73.75,\n  latitude: 40.73,\n  zoom: 9,\n  maxZoom: 16,\n  pitch: 0,\n  bearing: 0\n};\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\nexport const MapBox = _ref => {\n  _s();\n  let {\n    data = DATA_URL,\n    intensity = 2,\n    threshold = 0.03,\n    radiusPixels = 30,\n    mapStyle = MAP_STYLE\n  } = _ref;\n  const DEFAULT_LAYER_VALUES = {\n    data,\n    id: 'heatmp-layer',\n    pickable: false,\n    getPosition: d => [d[0], d[1]],\n    getWeight: d => d[2],\n    radiusPixels,\n    intensity,\n    threshold\n  };\n  const initialLayer = new HeatmapLayer({\n    ...DEFAULT_LAYER_VALUES\n  });\n  const [layers, setLayers] = useState([initialLayer]);\n  const handleLayers = (value, type) => {\n    DEFAULT_LAYER_VALUES[type] = value;\n    const newLayer = new HeatmapLayer(DEFAULT_LAYER_VALUES);\n    setLayers([newLayer]);\n  };\n  return /*#__PURE__*/_jsxDEV(DeckGL, {\n    initialViewState: INITIAL_VIEW_STATE,\n    controller: true,\n    layers: layers,\n    children: [/*#__PURE__*/_jsxDEV(Widget, {\n      handleUpdateLayers: handleLayers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Map, {\n      reuseMaps: true,\n      mapboxAccessToken: API_KEY,\n      mapStyle: mapStyle,\n      preventStyleDiffing: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(MapBox, \"7reoU35D6mhhhKpUogWkWVPVXoE=\");\n_c = MapBox;\nvar _c;\n$RefreshReg$(_c, \"MapBox\");","map":{"version":3,"names":["DeckGL","Map","HeatmapLayer","useState","Widget","jsxDEV","_jsxDEV","DATA_URL","API_KEY","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","pitch","bearing","MAP_STYLE","MapBox","_ref","_s","data","intensity","threshold","radiusPixels","mapStyle","DEFAULT_LAYER_VALUES","id","pickable","getPosition","d","getWeight","initialLayer","layers","setLayers","handleLayers","value","type","newLayer","initialViewState","controller","children","handleUpdateLayers","fileName","_jsxFileName","lineNumber","columnNumber","reuseMaps","mapboxAccessToken","preventStyleDiffing","_c","$RefreshReg$"],"sources":["/Users/maks/Desktop/projects/geo-viz/src/components/MapBox/MapBox.jsx"],"sourcesContent":["import DeckGL from \"@deck.gl/react\";\nimport { Map } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {HeatmapLayer} from '@deck.gl/aggregation-layers';\nimport {useState} from \"react\";\nimport {Widget} from \"./components\";\n\nconst DATA_URL =\n    'https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/screen-grid/uber-pickup-locations.json'; // eslint-disable-line\n\nconst API_KEY = 'pk.eyJ1IjoibWFrcy1tMTMiLCJhIjoiY2xlNXoxb2d0MGh4MjNwdnpqbGo0MnBodCJ9.tsyFzruRVKGCF-mK_kteRg';\n\nconst INITIAL_VIEW_STATE = {\n    longitude: -73.75,\n    latitude: 40.73,\n    zoom: 9,\n    maxZoom: 16,\n    pitch: 0,\n    bearing: 0\n};\n\n\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json';\n\nexport const MapBox = ({\n                           data = DATA_URL,\n                           intensity = 2,\n                           threshold = 0.03,\n                           radiusPixels = 30,\n                           mapStyle = MAP_STYLE\n                       }) => {\n    const DEFAULT_LAYER_VALUES = {\n        data,\n        id: 'heatmp-layer',\n        pickable: false,\n        getPosition: d => [d[0], d[1]],\n        getWeight: d => d[2],\n        radiusPixels,\n        intensity,\n        threshold\n    }\n\n\n    const initialLayer = new HeatmapLayer({\n        ...DEFAULT_LAYER_VALUES,\n    })\n\n    const [layers, setLayers] = useState([initialLayer]);\n\n    const handleLayers = (value, type) => {\n        DEFAULT_LAYER_VALUES[type] = value;\n        const newLayer = new HeatmapLayer(DEFAULT_LAYER_VALUES);\n        setLayers([newLayer]);\n    }\n\n    return (\n        <DeckGL initialViewState={INITIAL_VIEW_STATE} controller={true} layers={layers}>\n            <Widget handleUpdateLayers={handleLayers}/>\n            <Map reuseMaps mapboxAccessToken={API_KEY} mapStyle={mapStyle} preventStyleDiffing={true} />\n        </DeckGL>\n    )\n}"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,gBAAgB;AACnC,SAASC,GAAG,QAAQ,cAAc;AAClC,OAAO,8BAA8B;AACrC,SAAQC,YAAY,QAAO,6BAA6B;AACxD,SAAQC,QAAQ,QAAO,OAAO;AAC9B,SAAQC,MAAM,QAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,QAAQ,GACV,6GAA6G,CAAC,CAAC;;AAEnH,MAAMC,OAAO,GAAG,4FAA4F;AAE5G,MAAMC,kBAAkB,GAAG;EACvBC,SAAS,EAAE,CAAC,KAAK;EACjBC,QAAQ,EAAE,KAAK;EACfC,IAAI,EAAE,CAAC;EACPC,OAAO,EAAE,EAAE;EACXC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE;AACb,CAAC;AAGD,MAAMC,SAAS,GAAG,2EAA2E;AAE7F,OAAO,MAAMC,MAAM,GAAGC,IAAA,IAMO;EAAAC,EAAA;EAAA,IANN;IACIC,IAAI,GAAGb,QAAQ;IACfc,SAAS,GAAG,CAAC;IACbC,SAAS,GAAG,IAAI;IAChBC,YAAY,GAAG,EAAE;IACjBC,QAAQ,GAAGR;EACf,CAAC,GAAAE,IAAA;EACpB,MAAMO,oBAAoB,GAAG;IACzBL,IAAI;IACJM,EAAE,EAAE,cAAc;IAClBC,QAAQ,EAAE,KAAK;IACfC,WAAW,EAAEC,CAAC,IAAI,CAACA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9BC,SAAS,EAAED,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC;IACpBN,YAAY;IACZF,SAAS;IACTC;EACJ,CAAC;EAGD,MAAMS,YAAY,GAAG,IAAI7B,YAAY,CAAC;IAClC,GAAGuB;EACP,CAAC,CAAC;EAEF,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAG9B,QAAQ,CAAC,CAAC4B,YAAY,CAAC,CAAC;EAEpD,MAAMG,YAAY,GAAGA,CAACC,KAAK,EAAEC,IAAI,KAAK;IAClCX,oBAAoB,CAACW,IAAI,CAAC,GAAGD,KAAK;IAClC,MAAME,QAAQ,GAAG,IAAInC,YAAY,CAACuB,oBAAoB,CAAC;IACvDQ,SAAS,CAAC,CAACI,QAAQ,CAAC,CAAC;EACzB,CAAC;EAED,oBACI/B,OAAA,CAACN,MAAM;IAACsC,gBAAgB,EAAE7B,kBAAmB;IAAC8B,UAAU,EAAE,IAAK;IAACP,MAAM,EAAEA,MAAO;IAAAQ,QAAA,gBAC3ElC,OAAA,CAACF,MAAM;MAACqC,kBAAkB,EAAEP;IAAa;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAE,eAC3CvC,OAAA,CAACL,GAAG;MAAC6C,SAAS;MAACC,iBAAiB,EAAEvC,OAAQ;MAACgB,QAAQ,EAAEA,QAAS;MAACwB,mBAAmB,EAAE;IAAK;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACvF;AAEjB,CAAC;AAAA1B,EAAA,CArCYF,MAAM;AAAAgC,EAAA,GAANhC,MAAM;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}