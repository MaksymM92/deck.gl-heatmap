{"ast":null,"code":"import { WorkerFarm } from '@loaders.gl/worker-utils';\nimport { isBrowser } from '../env-utils/globals';\nexport function canEncodeWithWorker(writer, options) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n  if (!isBrowser && !(options !== null && options !== void 0 && options._nodeWorkers)) {\n    return false;\n  }\n  return writer.worker && (options === null || options === void 0 ? void 0 : options.worker);\n}","map":{"version":3,"names":["WorkerFarm","isBrowser","canEncodeWithWorker","writer","options","isSupported","_nodeWorkers","worker"],"sources":["/Users/maks/Desktop/projects/geo-viz/node_modules/@loaders.gl/loader-utils/src/lib/worker-loader-utils/encode-with-worker.ts"],"sourcesContent":["import {WorkerFarm} from '@loaders.gl/worker-utils';\nimport {Writer, WriterOptions} from '../../types';\nimport {isBrowser} from '../env-utils/globals';\n\n/**\n * Determines if a loader can parse with worker\n * @param loader\n * @param options\n */\nexport function canEncodeWithWorker(writer: Writer, options?: WriterOptions) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  // Node workers are still experimental\n  if (!isBrowser && !options?._nodeWorkers) {\n    return false;\n  }\n\n  return writer.worker && options?.worker;\n}\n"],"mappings":"AAAA,SAAQA,UAAU,QAAO,0BAA0B;AAEnD,SAAQC,SAAS,QAAO,sBAAsB;AAO9C,OAAO,SAASC,mBAAmBA,CAACC,MAAc,EAAEC,OAAuB,EAAE;EAC3E,IAAI,CAACJ,UAAU,CAACK,WAAW,EAAE,EAAE;IAC7B,OAAO,KAAK;EACd;EAGA,IAAI,CAACJ,SAAS,IAAI,EAACG,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEE,YAAY,GAAE;IACxC,OAAO,KAAK;EACd;EAEA,OAAOH,MAAM,CAACI,MAAM,KAAIH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,MAAM;AACzC"},"metadata":{},"sourceType":"module","externalDependencies":[]}