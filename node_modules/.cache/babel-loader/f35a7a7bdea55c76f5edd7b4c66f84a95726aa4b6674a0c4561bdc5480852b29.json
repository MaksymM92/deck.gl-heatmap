{"ast":null,"code":"import { transformMat4, scale } from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  const result = transformMat4([], vector, matrix);\n  scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  const modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\nexport function clamp(x, min, max) {\n  return x < min ? min : x > max ? max : x;\n}\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\nexport const log2 = Math.log2 || ieLog2;","map":{"version":3,"names":["transformMat4","scale","createMat4","transformVector","matrix","vector","result","mod","value","divisor","modulus","lerp","start","end","step","clamp","x","min","max","ieLog2","Math","log","LOG2E","log2"],"sources":["/Users/maks/Desktop/projects/geo-viz/node_modules/@math.gl/web-mercator/src/math-utils.ts"],"sourcesContent":["import {transformMat4, scale} from 'gl-matrix/vec4';\n\n// Helper, avoids low-precision 32 bit matrices from gl-matrix mat4.create()\nexport function createMat4(): number[] {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\n\n// Transforms a vec4 with a projection matrix\nexport function transformVector(matrix: number[], vector: number[]): number[] {\n  const result = transformMat4([] as number[], vector, matrix);\n  scale(result, result, 1 / result[3]);\n  return result;\n}\n\nexport function mod(value: number, divisor: number): number {\n  const modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\n\nexport function lerp(start: number, end: number, step: number): number {\n  return step * end + (1 - step) * start;\n}\n\nexport function clamp(x: number, min: number, max: number): number {\n  return x < min ? min : x > max ? max : x;\n}\n\nfunction ieLog2(x: number): number {\n  return Math.log(x) * Math.LOG2E;\n}\n// Handle missing log2 in IE 11\nexport const log2 = Math.log2 || ieLog2;\n"],"mappings":"AAAA,SAAQA,aAAR,EAAuBC,KAAvB,QAAmC,gBAAnC;AAGA,OAAO,SAASC,UAATA,CAAA,EAAgC;EACrC,OAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,CAAP;AACD;AAGD,OAAO,SAASC,eAATA,CAAyBC,MAAzB,EAA2CC,MAA3C,EAAuE;EAC5E,MAAMC,MAAM,GAAGN,aAAa,CAAC,EAAD,EAAiBK,MAAjB,EAAyBD,MAAzB,CAA5B;EACAH,KAAK,CAACK,MAAD,EAASA,MAAT,EAAiB,IAAIA,MAAM,CAAC,CAAD,CAA3B,CAAL;EACA,OAAOA,MAAP;AACD;AAED,OAAO,SAASC,GAATA,CAAaC,KAAb,EAA4BC,OAA5B,EAAqD;EAC1D,MAAMC,OAAO,GAAGF,KAAK,GAAGC,OAAxB;EACA,OAAOC,OAAO,GAAG,CAAV,GAAcD,OAAO,GAAGC,OAAxB,GAAkCA,OAAzC;AACD;AAED,OAAO,SAASC,IAATA,CAAcC,KAAd,EAA6BC,GAA7B,EAA0CC,IAA1C,EAAgE;EACrE,OAAOA,IAAI,GAAGD,GAAP,GAAa,CAAC,IAAIC,IAAL,IAAaF,KAAjC;AACD;AAED,OAAO,SAASG,KAATA,CAAeC,CAAf,EAA0BC,GAA1B,EAAuCC,GAAvC,EAA4D;EACjE,OAAOF,CAAC,GAAGC,GAAJ,GAAUA,GAAV,GAAgBD,CAAC,GAAGE,GAAJ,GAAUA,GAAV,GAAgBF,CAAvC;AACD;AAED,SAASG,MAATA,CAAgBH,CAAhB,EAAmC;EACjC,OAAOI,IAAI,CAACC,GAAL,CAASL,CAAT,IAAcI,IAAI,CAACE,KAA1B;AACD;AAED,OAAO,MAAMC,IAAI,GAAGH,IAAI,CAACG,IAAL,IAAaJ,MAA1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}